---
title: ì¸í„°ëŸ½íŠ¸
---

import AlphaCallout from '/snippets/alpha-lg-callout.mdx';

<AlphaCallout />

ì¸í„°ëŸ½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ì§€ì ì—ì„œ ê·¸ë˜í”„ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ê³  ì™¸ë¶€ ì…ë ¥ì„ ê¸°ë‹¤ë¦° í›„ ê³„ì† ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì§„í–‰í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ì…ë ¥ì´ í•„ìš”í•œ íœ´ë¨¼-ì¸-ë”-ë£¨í”„ íŒ¨í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸í„°ëŸ½íŠ¸ê°€ íŠ¸ë¦¬ê±°ë˜ë©´ LangGraphëŠ” [ì˜ì†ì„±](/oss/python/langgraph/persistence) ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë˜í”„ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ì‹¤í–‰ì„ ì¬ê°œí•  ë•Œê¹Œì§€ ë¬´ê¸°í•œ ëŒ€ê¸°í•©ë‹ˆë‹¤.

ì¸í„°ëŸ½íŠ¸ëŠ” ê·¸ë˜í”„ ë…¸ë“œì˜ ì–´ëŠ ì§€ì ì—ì„œë‚˜ `interrupt()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‘ë™í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” JSON ì§ë ¬í™” ê°€ëŠ¥í•œ ëª¨ë“  ê°’ì„ ë°›ì•„ í˜¸ì¶œìì—ê²Œ ë…¸ì¶œí•©ë‹ˆë‹¤. ê³„ì†í•  ì¤€ë¹„ê°€ ë˜ë©´ `Command`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ì‹¤í–‰ì„ ì¬ê°œí•˜ë©°, ì´ëŠ” ë…¸ë“œ ë‚´ë¶€ì—ì„œ `interrupt()` í˜¸ì¶œì˜ ë°˜í™˜ ê°’ì´ ë©ë‹ˆë‹¤.

ì •ì  ì¤‘ë‹¨ì (íŠ¹ì • ë…¸ë“œ ì „í›„ì— ì¼ì‹œ ì¤‘ì§€)ê³¼ ë‹¬ë¦¬ ì¸í„°ëŸ½íŠ¸ëŠ” **ë™ì **ì…ë‹ˆë‹¤. ì½”ë“œì˜ ì–´ë””ì—ë‚˜ ë°°ì¹˜í•  ìˆ˜ ìˆìœ¼ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì— ë”°ë¼ ì¡°ê±´ë¶€ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì²´í¬í¬ì¸íŒ…ìœ¼ë¡œ ìœ„ì¹˜ ìœ ì§€:** ì²´í¬í¬ì¸í„°ëŠ” ì •í™•í•œ ê·¸ë˜í”„ ìƒíƒœë¥¼ ê¸°ë¡í•˜ì—¬ ë‚˜ì¤‘ì—, ì‹¬ì§€ì–´ ì˜¤ë¥˜ ìƒíƒœì—ì„œë„ ì¬ê°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **`thread_id`ëŠ” í¬ì¸í„°:** `config={"configurable": {"thread_id": ...}}`ë¥¼ ì„¤ì •í•˜ì—¬ ì²´í¬í¬ì¸í„°ì— ì–´ë–¤ ìƒíƒœë¥¼ ë¡œë“œí• ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **ì¸í„°ëŸ½íŠ¸ í˜ì´ë¡œë“œëŠ” `__interrupt__`ë¡œ ë…¸ì¶œ:** `interrupt()`ì— ì „ë‹¬í•œ ê°’ì€ `__interrupt__` í•„ë“œë¡œ í˜¸ì¶œìì—ê²Œ ë°˜í™˜ë˜ì–´ ê·¸ë˜í”„ê°€ ë¬´ì—‡ì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ì„ íƒí•œ `thread_id`ëŠ” íš¨ê³¼ì ìœ¼ë¡œ ì˜ì†ì ì¸ ì»¤ì„œì…ë‹ˆë‹¤. ì´ë¥¼ ì¬ì‚¬ìš©í•˜ë©´ ë™ì¼í•œ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì¬ê°œí•˜ê³ , ìƒˆ ê°’ì„ ì‚¬ìš©í•˜ë©´ ë¹ˆ ìƒíƒœë¡œ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.

## `interrupt`ë¥¼ ì‚¬ìš©í•œ ì¼ì‹œ ì¤‘ì§€

`interrupt` í•¨ìˆ˜ëŠ” ê·¸ë˜í”„ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ê³  í˜¸ì¶œìì—ê²Œ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ë…¸ë“œ ë‚´ì—ì„œ `interrupt`ë¥¼ í˜¸ì¶œí•˜ë©´ LangGraphëŠ” í˜„ì¬ ê·¸ë˜í”„ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ì…ë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰ì„ ì¬ê°œí•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

`interrupt`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤:
1. ê·¸ë˜í”„ ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ **ì²´í¬í¬ì¸í„°** (í”„ë¡œë•ì…˜ì—ì„œëŠ” ì˜ì†ì ì¸ ì²´í¬í¬ì¸í„° ì‚¬ìš©)
2. ëŸ°íƒ€ì„ì´ ì–´ë–¤ ìƒíƒœì—ì„œ ì¬ê°œí• ì§€ ì•Œ ìˆ˜ ìˆë„ë¡ configì— **thread ID**
3. ì¼ì‹œ ì¤‘ì§€í•˜ë ¤ëŠ” ìœ„ì¹˜ì—ì„œ `interrupt()` í˜¸ì¶œ (í˜ì´ë¡œë“œëŠ” JSON ì§ë ¬í™” ê°€ëŠ¥í•´ì•¼ í•¨)

```python
from langgraph.types import interrupt

def approval_node(state: State):
    # ì¼ì‹œ ì¤‘ì§€í•˜ê³  ìŠ¹ì¸ ìš”ì²­
    approved = interrupt("Do you approve this action?")

    # ì¬ê°œí•  ë•Œ Command(resume=...)ê°€ ì—¬ê¸°ì— í•´ë‹¹ ê°’ì„ ë°˜í™˜
    return {"approved": approved}
```




`interrupt`ë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¼ì´ ë°œìƒí•©ë‹ˆë‹¤:

1. **ê·¸ë˜í”„ ì‹¤í–‰ì´ ì¼ì‹œ ì¤‘ë‹¨ë©ë‹ˆë‹¤** `interrupt`ê°€ í˜¸ì¶œëœ ì •í™•í•œ ì§€ì ì—ì„œ
2. **ìƒíƒœê°€ ì €ì¥ë©ë‹ˆë‹¤** ì²´í¬í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚˜ì¤‘ì— ì‹¤í–‰ì„ ì¬ê°œí•  ìˆ˜ ìˆë„ë¡. í”„ë¡œë•ì…˜ì—ì„œëŠ” ì˜ì†ì ì¸ ì²´í¬í¬ì¸í„°(ì˜ˆ: ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜)ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤
3. **ê°’ì´ ë°˜í™˜ë©ë‹ˆë‹¤** `__interrupt__` í•˜ìœ„ì—ì„œ í˜¸ì¶œìì—ê²Œ. JSON ì§ë ¬í™” ê°€ëŠ¥í•œ ëª¨ë“  ê°’(ë¬¸ìì—´, ê°ì²´, ë°°ì—´ ë“±)ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤
4. **ê·¸ë˜í”„ê°€ ë¬´ê¸°í•œ ëŒ€ê¸°í•©ë‹ˆë‹¤** ì‘ë‹µê³¼ í•¨ê»˜ ì‹¤í–‰ì„ ì¬ê°œí•  ë•Œê¹Œì§€
5. **ì‘ë‹µì´ ë‹¤ì‹œ ì „ë‹¬ë©ë‹ˆë‹¤** ì¬ê°œí•  ë•Œ ë…¸ë“œë¡œ, `interrupt()` í˜¸ì¶œì˜ ë°˜í™˜ ê°’ì´ ë©ë‹ˆë‹¤

## ì¸í„°ëŸ½íŠ¸ ì¬ê°œ

ì¸í„°ëŸ½íŠ¸ê°€ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•œ í›„, ì¬ê°œ ê°’ì„ í¬í•¨í•˜ëŠ” `Command`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ì¬ê°œí•©ë‹ˆë‹¤. ì¬ê°œ ê°’ì€ `interrupt` í˜¸ì¶œë¡œ ë‹¤ì‹œ ì „ë‹¬ë˜ì–´ ë…¸ë“œê°€ ì™¸ë¶€ ì…ë ¥ê³¼ í•¨ê»˜ ì‹¤í–‰ì„ ê³„ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from langgraph.types import Command

# ì´ˆê¸° ì‹¤í–‰ - ì¸í„°ëŸ½íŠ¸ë¥¼ ë§Œë‚˜ ì¼ì‹œ ì¤‘ì§€
# thread_idëŠ” ì˜ì†ì  í¬ì¸í„° (í”„ë¡œë•ì…˜ì—ì„œëŠ” ì•ˆì •ì ì¸ ID ì €ì¥)
config = {"configurable": {"thread_id": "thread-1"}}
result = graph.invoke({"input": "data"}, config=config)

# ë¬´ì—‡ì´ ì¤‘ë‹¨ë˜ì—ˆëŠ”ì§€ í™•ì¸
# __interrupt__ëŠ” interrupt()ì— ì „ë‹¬ëœ í˜ì´ë¡œë“œë¥¼ í¬í•¨
print(result["__interrupt__"])
# > [Interrupt(value='Do you approve this action?')]

# ì‚¬ìš©ìì˜ ì‘ë‹µìœ¼ë¡œ ì¬ê°œ
# ì¬ê°œ í˜ì´ë¡œë“œëŠ” ë…¸ë“œ ë‚´ë¶€ì—ì„œ interrupt()ì˜ ë°˜í™˜ ê°’ì´ ë¨
graph.invoke(Command(resume=True), config=config)
```




**ì¬ê°œì— ëŒ€í•œ ì£¼ìš” ì‚¬í•­:**

- ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‚¬ìš©ëœ ê²ƒê³¼ **ë™ì¼í•œ thread ID**ë¥¼ ì¬ê°œ ì‹œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤
- `Command(resume=...)`ì— ì „ë‹¬ëœ ê°’ì´ `interrupt` í˜¸ì¶œì˜ ë°˜í™˜ ê°’ì´ ë©ë‹ˆë‹¤
- ì¬ê°œ ì‹œ `interrupt`ê°€ í˜¸ì¶œëœ ë…¸ë“œì˜ ì‹œì‘ ë¶€ë¶„ë¶€í„° ì¬ì‹œì‘ë˜ë¯€ë¡œ `interrupt` ì´ì „ì˜ ëª¨ë“  ì½”ë“œê°€ ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤
- ì¬ê°œ ê°’ìœ¼ë¡œ JSON ì§ë ¬í™” ê°€ëŠ¥í•œ ëª¨ë“  ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ì¼ë°˜ì ì¸ íŒ¨í„´

ì¸í„°ëŸ½íŠ¸ê°€ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ì€ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ê³  ì™¸ë¶€ ì…ë ¥ì„ ê¸°ë‹¤ë¦¬ëŠ” ëŠ¥ë ¥ì…ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒì„ í¬í•¨í•œ ë‹¤ì–‘í•œ ì‚¬ìš© ì‚¬ë¡€ì— ìœ ìš©í•©ë‹ˆë‹¤:

- <Icon icon="check-circle" /> [ìŠ¹ì¸ ì›Œí¬í”Œë¡œ](#approve-or-reject): ì¤‘ìš”í•œ ì‘ì—…(API í˜¸ì¶œ, ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½, ê¸ˆìœµ ê±°ë˜) ì‹¤í–‰ ì „ ì¼ì‹œ ì¤‘ì§€
- <Icon icon="pencil" /> [ê²€í†  ë° ìˆ˜ì •](#review-and-edit-state): ê³„ì†í•˜ê¸° ì „ì— ì‚¬ëŒì´ LLM ì¶œë ¥ ë˜ëŠ” ë„êµ¬ í˜¸ì¶œì„ ê²€í† í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©
- <Icon icon="wrench" /> [ë„êµ¬ í˜¸ì¶œ ì¤‘ë‹¨](#interrupts-in-tools): ë„êµ¬ í˜¸ì¶œ ì‹¤í–‰ ì „ ì¼ì‹œ ì¤‘ì§€í•˜ì—¬ ë„êµ¬ í˜¸ì¶œì„ ê²€í† í•˜ê³  ìˆ˜ì •
- <Icon icon="shield-check" /> [ì‚¬ìš©ì ì…ë ¥ ê²€ì¦](#validating-human-input): ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê¸° ì „ ì¼ì‹œ ì¤‘ì§€í•˜ì—¬ ì‚¬ìš©ì ì…ë ¥ ê²€ì¦

### ìŠ¹ì¸ ë˜ëŠ” ê±°ë¶€

ì¸í„°ëŸ½íŠ¸ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ ì¤‘ í•˜ë‚˜ëŠ” ì¤‘ìš”í•œ ì‘ì—… ì „ì— ì¼ì‹œ ì¤‘ì§€í•˜ê³  ìŠ¹ì¸ì„ ìš”ì²­í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, API í˜¸ì¶œ, ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ë˜ëŠ” ê¸°íƒ€ ì¤‘ìš”í•œ ê²°ì •ì„ ìŠ¹ì¸í•˜ë„ë¡ ì‚¬ëŒì—ê²Œ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from typing import Literal
from langgraph.types import interrupt, Command

def approval_node(state: State) -> Command[Literal["proceed", "cancel"]]:
    # ì‹¤í–‰ ì¼ì‹œ ì¤‘ì§€; í˜ì´ë¡œë“œëŠ” result["__interrupt__"]ì— í‘œì‹œë¨
    is_approved = interrupt({
        "question": "Do you want to proceed with this action?",
        "details": state["action_details"]
    })

    # ì‘ë‹µì— ë”°ë¼ ë¼ìš°íŒ…
    if is_approved:
        return Command(goto="proceed")  # ì¬ê°œ í˜ì´ë¡œë“œê°€ ì œê³µëœ í›„ ì‹¤í–‰
    else:
        return Command(goto="cancel")
```




ê·¸ë˜í”„ë¥¼ ì¬ê°œí•  ë•Œ, ìŠ¹ì¸í•˜ë ¤ë©´ `true`ë¥¼, ê±°ë¶€í•˜ë ¤ë©´ `false`ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤:

```python
# ìŠ¹ì¸í•˜ë ¤ë©´
graph.invoke(Command(resume=True), config=config)

# ê±°ë¶€í•˜ë ¤ë©´
graph.invoke(Command(resume=False), config=config)
```




<Accordion title="ì „ì²´ ì˜ˆì œ">
    ```python
    import sqlite3
    from typing import Literal, Optional, TypedDict

    from langgraph.checkpoint.memory import MemorySaver
    from langgraph.graph import StateGraph, START, END
    from langgraph.types import Command, interrupt


    class ApprovalState(TypedDict):
        action_details: str
        status: Optional[Literal["pending", "approved", "rejected"]]


    def approval_node(state: ApprovalState) -> Command[Literal["proceed", "cancel"]]:
        # í˜¸ì¶œìê°€ UIì—ì„œ ë Œë”ë§í•  ìˆ˜ ìˆë„ë¡ ì„¸ë¶€ ì •ë³´ ë…¸ì¶œ
        decision = interrupt({
            "question": "Approve this action?",
            "details": state["action_details"],
        })

        # ì¬ê°œ í›„ ì ì ˆí•œ ë…¸ë“œë¡œ ë¼ìš°íŒ…
        return Command(goto="proceed" if decision else "cancel")


    def proceed_node(state: ApprovalState):
        return {"status": "approved"}


    def cancel_node(state: ApprovalState):
        return {"status": "rejected"}


    builder = StateGraph(ApprovalState)
    builder.add_node("approval", approval_node)
    builder.add_node("proceed", proceed_node)
    builder.add_node("cancel", cancel_node)
    builder.add_edge(START, "approval")
    builder.add_edge("approval", "proceed")
    builder.add_edge("approval", "cancel")
    builder.add_edge("proceed", END)
    builder.add_edge("cancel", END)

    # í”„ë¡œë•ì…˜ì—ì„œëŠ” ë” ì˜ì†ì ì¸ ì²´í¬í¬ì¸í„° ì‚¬ìš©
    checkpointer = MemorySaver()
    graph = builder.compile(checkpointer=checkpointer)

    config = {"configurable": {"thread_id": "approval-123"}}
    initial = graph.invoke(
        {"action_details": "Transfer $500", "status": "pending"},
        config=config,
    )
    print(initial["__interrupt__"])  # -> [Interrupt(value={'question': ..., 'details': ...})]

    # ê²°ì •ìœ¼ë¡œ ì¬ê°œ; TrueëŠ” proceedë¡œ, FalseëŠ” cancelë¡œ ë¼ìš°íŒ…
    resumed = graph.invoke(Command(resume=True), config=config)
    print(resumed["status"])  # -> "approved"
    ```




</Accordion>

### ìƒíƒœ ê²€í†  ë° ìˆ˜ì •

ë•Œë•Œë¡œ ê³„ì†í•˜ê¸° ì „ì— ì‚¬ëŒì´ ê·¸ë˜í”„ ìƒíƒœì˜ ì¼ë¶€ë¥¼ ê²€í† í•˜ê³  ìˆ˜ì •í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” LLMì„ ìˆ˜ì •í•˜ê±°ë‚˜, ëˆ„ë½ëœ ì •ë³´ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜, ì¡°ì •í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

```python
from langgraph.types import interrupt

def review_node(state: State):
    # ì¼ì‹œ ì¤‘ì§€í•˜ê³  ê²€í† ë¥¼ ìœ„í•´ í˜„ì¬ ë‚´ìš© í‘œì‹œ (result["__interrupt__"]ì— í‘œì‹œë¨)
    edited_content = interrupt({
        "instruction": "Review and edit this content",
        "content": state["generated_text"]
    })

    # ìˆ˜ì •ëœ ë²„ì „ìœ¼ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸
    return {"generated_text": edited_content}
```




ì¬ê°œí•  ë•Œ ìˆ˜ì •ëœ ë‚´ìš©ì„ ì œê³µí•©ë‹ˆë‹¤:

```python
graph.invoke(
    Command(resume="The edited and improved text"),  # ê°’ì´ interrupt()ì˜ ë°˜í™˜ê°’ì´ ë¨
    config=config
)
```




<Accordion title="ì „ì²´ ì˜ˆì œ">
    ```python
    import sqlite3
    from typing import TypedDict

    from langgraph.checkpoint.memory import MemorySaver
    from langgraph.graph import StateGraph, START, END
    from langgraph.types import Command, interrupt


    class ReviewState(TypedDict):
        generated_text: str


    def review_node(state: ReviewState):
        # ê²€í† ìì—ê²Œ ìƒì„±ëœ ë‚´ìš© ìˆ˜ì • ìš”ì²­
        updated = interrupt({
            "instruction": "Review and edit this content",
            "content": state["generated_text"],
        })
        return {"generated_text": updated}


    builder = StateGraph(ReviewState)
    builder.add_node("review", review_node)
    builder.add_edge(START, "review")
    builder.add_edge("review", END)

    checkpointer = MemorySaver()
    graph = builder.compile(checkpointer=checkpointer)

    config = {"configurable": {"thread_id": "review-42"}}
    initial = graph.invoke({"generated_text": "Initial draft"}, config=config)
    print(initial["__interrupt__"])  # -> [Interrupt(value={'instruction': ..., 'content': ...})]

    # ê²€í† ìì˜ ìˆ˜ì •ëœ í…ìŠ¤íŠ¸ë¡œ ì¬ê°œ
    final_state = graph.invoke(
        Command(resume="Improved draft after review"),
        config=config,
    )
    print(final_state["generated_text"])  # -> "Improved draft after review"
    ```




</Accordion>

### ë„êµ¬ì—ì„œì˜ ì¸í„°ëŸ½íŠ¸

ë„êµ¬ í•¨ìˆ˜ ë‚´ë¶€ì— ì§ì ‘ ì¸í„°ëŸ½íŠ¸ë¥¼ ë°°ì¹˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë„êµ¬ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë„êµ¬ ìì²´ê°€ ìŠ¹ì¸ì„ ìœ„í•´ ì¼ì‹œ ì¤‘ì§€ë˜ë©°, ì‹¤í–‰ë˜ê¸° ì „ì— ë„êµ¬ í˜¸ì¶œì„ ì‚¬ëŒì´ ê²€í† í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì € `interrupt`ë¥¼ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:

```python
from langchain.tools import tool
from langgraph.types import interrupt

@tool
def send_email(to: str, subject: str, body: str):
    """Send an email to a recipient."""

    # ì „ì†¡ ì „ ì¼ì‹œ ì¤‘ì§€; í˜ì´ë¡œë“œëŠ” result["__interrupt__"]ì— í‘œì‹œë¨
    response = interrupt({
        "action": "send_email",
        "to": to,
        "subject": subject,
        "body": body,
        "message": "Approve sending this email?"
    })

    if response.get("action") == "approve":
        # ì¬ê°œ ê°’ì´ ì‹¤í–‰ ì „ì— ì…ë ¥ì„ ì¬ì •ì˜í•  ìˆ˜ ìˆìŒ
        final_to = response.get("to", to)
        final_subject = response.get("subject", subject)
        final_body = response.get("body", body)
        return f"Email sent to {final_to} with subject '{final_subject}'"
    return "Email cancelled by user"
```




ì´ ì ‘ê·¼ ë°©ì‹ì€ ìŠ¹ì¸ ë¡œì§ì´ ë„êµ¬ ìì²´ì™€ í•¨ê»˜ ìˆì–´ ê·¸ë˜í”„ì˜ ì—¬ëŸ¬ ë¶€ë¶„ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤. LLMì€ ë„êµ¬ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, ë„êµ¬ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ì¸í„°ëŸ½íŠ¸ê°€ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ì—¬ ì‘ì—…ì„ ìŠ¹ì¸, ìˆ˜ì • ë˜ëŠ” ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Accordion title="ì „ì²´ ì˜ˆì œ">
    ```python
    import sqlite3
    from typing import TypedDict

    from langchain.tools import tool
    from langchain_anthropic import ChatAnthropic
    from langgraph.checkpoint.sqlite import SqliteSaver
    from langgraph.graph import StateGraph, START, END
    from langgraph.types import Command, interrupt


    class AgentState(TypedDict):
        messages: list[dict]


    @tool
    def send_email(to: str, subject: str, body: str):
        """Send an email to a recipient."""

        # ì „ì†¡ ì „ ì¼ì‹œ ì¤‘ì§€; í˜ì´ë¡œë“œëŠ” result["__interrupt__"]ì— í‘œì‹œë¨
        response = interrupt({
            "action": "send_email",
            "to": to,
            "subject": subject,
            "body": body,
            "message": "Approve sending this email?",
        })

        if response.get("action") == "approve":
            final_to = response.get("to", to)
            final_subject = response.get("subject", subject)
            final_body = response.get("body", body)

            # ì‹¤ì œë¡œ ì´ë©”ì¼ ì „ì†¡ (ì—¬ê¸°ì— êµ¬í˜„)
            print(f"[send_email] to={final_to} subject={final_subject} body={final_body}")
            return f"Email sent to {final_to}"

        return "Email cancelled by user"


    model = ChatAnthropic(model="claude-sonnet-4-5").bind_tools([send_email])


    def agent_node(state: AgentState):
        # LLMì´ ë„êµ¬ í˜¸ì¶œì„ ê²°ì •í•  ìˆ˜ ìˆìŒ; ì¸í„°ëŸ½íŠ¸ê°€ ì „ì†¡ ì „ì— ì¼ì‹œ ì¤‘ì§€
        result = model.invoke(state["messages"])
        return {"messages": state["messages"] + [result]}


    builder = StateGraph(AgentState)
    builder.add_node("agent", agent_node)
    builder.add_edge(START, "agent")
    builder.add_edge("agent", END)

    checkpointer = SqliteSaver(sqlite3.connect("tool-approval.db"))
    graph = builder.compile(checkpointer=checkpointer)

    config = {"configurable": {"thread_id": "email-workflow"}}
    initial = graph.invoke(
        {
            "messages": [
                {"role": "user", "content": "Send an email to alice@example.com about the meeting"}
            ]
        },
        config=config,
    )
    print(initial["__interrupt__"])  # -> [Interrupt(value={'action': 'send_email', ...})]

    # ìŠ¹ì¸ ë° ì„ íƒì ìœ¼ë¡œ ìˆ˜ì •ëœ ì¸ìˆ˜ë¡œ ì¬ê°œ
    resumed = graph.invoke(
        Command(resume={"action": "approve", "subject": "Updated subject"}),
        config=config,
    )
    print(resumed["messages"][-1])  # -> send_emailì—ì„œ ë°˜í™˜ëœ ë„êµ¬ ê²°ê³¼
    ```




</Accordion>

### ì‚¬ìš©ì ì…ë ¥ ê²€ì¦

ë•Œë•Œë¡œ ì‚¬ëŒì˜ ì…ë ¥ì„ ê²€ì¦í•˜ê³  ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ì‹œ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤. ë£¨í”„ì—ì„œ ì—¬ëŸ¬ `interrupt` í˜¸ì¶œì„ ì‚¬ìš©í•˜ì—¬ ì´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from langgraph.types import interrupt

def get_age_node(state: State):
    prompt = "What is your age?"

    while True:
        answer = interrupt(prompt)  # í˜ì´ë¡œë“œëŠ” result["__interrupt__"]ì— í‘œì‹œë¨

        # ì…ë ¥ ê²€ì¦
        if isinstance(answer, int) and answer > 0:
            # ìœ íš¨í•œ ì…ë ¥ - ê³„ì†
            break
        else:
            # ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ - ë” êµ¬ì²´ì ì¸ í”„ë¡¬í”„íŠ¸ë¡œ ë‹¤ì‹œ ìš”ì²­
            prompt = f"'{answer}' is not a valid age. Please enter a positive number."

    return {"age": answer}
```




ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ì¬ê°œí•  ë•Œë§ˆë‹¤ ë” ëª…í™•í•œ ë©”ì‹œì§€ë¡œ ë‹¤ì‹œ ìš”ì²­í•©ë‹ˆë‹¤. ìœ íš¨í•œ ì…ë ¥ì´ ì œê³µë˜ë©´ ë…¸ë“œê°€ ì™„ë£Œë˜ê³  ê·¸ë˜í”„ê°€ ê³„ì†ë©ë‹ˆë‹¤.

<Accordion title="ì „ì²´ ì˜ˆì œ">
    ```python
    import sqlite3
    from typing import TypedDict

    from langgraph.checkpoint.sqlite import SqliteSaver
    from langgraph.graph import StateGraph, START, END
    from langgraph.types import Command, interrupt


    class FormState(TypedDict):
        age: int | None


    def get_age_node(state: FormState):
        prompt = "What is your age?"

        while True:
            answer = interrupt(prompt)  # í˜ì´ë¡œë“œëŠ” result["__interrupt__"]ì— í‘œì‹œë¨

            if isinstance(answer, int) and answer > 0:
                return {"age": answer}

            prompt = f"'{answer}' is not a valid age. Please enter a positive number."


    builder = StateGraph(FormState)
    builder.add_node("collect_age", get_age_node)
    builder.add_edge(START, "collect_age")
    builder.add_edge("collect_age", END)

    checkpointer = SqliteSaver(sqlite3.connect("forms.db"))
    graph = builder.compile(checkpointer=checkpointer)

    config = {"configurable": {"thread_id": "form-1"}}
    first = graph.invoke({"age": None}, config=config)
    print(first["__interrupt__"])  # -> [Interrupt(value='What is your age?', ...)]

    # ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„° ì œê³µ; ë…¸ë“œê°€ ë‹¤ì‹œ í”„ë¡¬í”„íŠ¸
    retry = graph.invoke(Command(resume="thirty"), config=config)
    print(retry["__interrupt__"])  # -> [Interrupt(value="'thirty' is not a valid age...", ...)]

    # ìœ íš¨í•œ ë°ì´í„° ì œê³µ; ë£¨í”„ ì¢…ë£Œ ë° ìƒíƒœ ì—…ë°ì´íŠ¸
    final = graph.invoke(Command(resume=30), config=config)
    print(final["age"])  # -> 30
    ```




</Accordion>

## ì¸í„°ëŸ½íŠ¸ì˜ ê·œì¹™

ë…¸ë“œ ë‚´ì—ì„œ `interrupt`ë¥¼ í˜¸ì¶œí•˜ë©´ LangGraphëŠ” ëŸ°íƒ€ì„ì— ì¼ì‹œ ì¤‘ì§€í•˜ë„ë¡ ì‹ í˜¸ë¥¼ ë³´ë‚´ëŠ” ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œ ì‹¤í–‰ì„ ì¤‘ë‹¨í•©ë‹ˆë‹¤. ì´ ì˜ˆì™¸ëŠ” í˜¸ì¶œ ìŠ¤íƒì„ í†µí•´ ì „íŒŒë˜ê³  ëŸ°íƒ€ì„ì— ì˜í•´ í¬ì°©ë˜ë©°, ëŸ°íƒ€ì„ì€ ê·¸ë˜í”„ì— í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ì™¸ë¶€ ì…ë ¥ì„ ê¸°ë‹¤ë¦¬ë„ë¡ ì•Œë¦½ë‹ˆë‹¤.

ì‹¤í–‰ì´ ì¬ê°œë  ë•Œ(ìš”ì²­ëœ ì…ë ¥ì„ ì œê³µí•œ í›„), ëŸ°íƒ€ì„ì€ ì „ì²´ ë…¸ë“œë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤. `interrupt`ê°€ í˜¸ì¶œëœ ì •í™•í•œ ì¤„ì—ì„œ ì¬ê°œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŠ” `interrupt` ì „ì— ì‹¤í–‰ëœ ëª¨ë“  ì½”ë“œê°€ ë‹¤ì‹œ ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì¸í„°ëŸ½íŠ¸ê°€ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ë„ë¡ í•˜ë ¤ë©´ ë”°ë¼ì•¼ í•  ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ê·œì¹™ì´ ìˆìŠµë‹ˆë‹¤.

### `interrupt` í˜¸ì¶œì„ try/exceptë¡œ ë˜í•‘í•˜ì§€ ë§ˆì„¸ìš”

`interrupt`ê°€ í˜¸ì¶œ ì§€ì ì—ì„œ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í•˜ëŠ” ë°©ì‹ì€ íŠ¹ìˆ˜ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤. `interrupt` í˜¸ì¶œì„ try/except ë¸”ë¡ìœ¼ë¡œ ë˜í•‘í•˜ë©´ ì´ ì˜ˆì™¸ë¥¼ í¬ì°©í•˜ê²Œ ë˜ê³  ì¸í„°ëŸ½íŠ¸ê°€ ê·¸ë˜í”„ë¡œ ë‹¤ì‹œ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

* âœ… `interrupt` í˜¸ì¶œì„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ ì½”ë“œì™€ ë¶„ë¦¬
* âœ… try/except ë¸”ë¡ì—ì„œ íŠ¹ì • ì˜ˆì™¸ íƒ€ì… ì‚¬ìš©

<CodeGroup>
```python ë¡œì§ ë¶„ë¦¬
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ë¨¼ì € ì¸í„°ëŸ½íŠ¸í•˜ê³  ì˜¤ë¥˜ ì¡°ê±´ì„
    # ë³„ë„ë¡œ ì²˜ë¦¬
    interrupt("What's your name?")
    try:
        fetch_data()  # ì´ê²ƒì€ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ
    except Exception as e:
        print(e)
    return state
```
```python ëª…ì‹œì  ì˜ˆì™¸ ì²˜ë¦¬
def node_a(state: State):
    # âœ… ì¢‹ìŒ: íŠ¹ì • ì˜ˆì™¸ íƒ€ì… í¬ì°©ì€
    # ì¸í„°ëŸ½íŠ¸ ì˜ˆì™¸ë¥¼ í¬ì°©í•˜ì§€ ì•ŠìŒ
    try:
        name = interrupt("What's your name?")
        fetch_data()  # ì´ê²ƒì€ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ
    except NetworkException as e:
        print(e)
    return state
```
</CodeGroup>

* ğŸ”´ `interrupt` í˜¸ì¶œì„ ì¼ë°˜ try/except ë¸”ë¡ìœ¼ë¡œ ë˜í•‘í•˜ì§€ ë§ˆì„¸ìš”

```python
def node_a(state: State):
    # âŒ ë‚˜ì¨: ì¸í„°ëŸ½íŠ¸ë¥¼ ì¼ë°˜ try/exceptë¡œ ë˜í•‘í•˜ë©´
    # ì¸í„°ëŸ½íŠ¸ ì˜ˆì™¸ë¥¼ í¬ì°©í•˜ê²Œ ë¨
    try:
        interrupt("What's your name?")
    except Exception as e:
        print(e)
    return state
```




### ë…¸ë“œ ë‚´ì—ì„œ `interrupt` í˜¸ì¶œ ìˆœì„œë¥¼ ë³€ê²½í•˜ì§€ ë§ˆì„¸ìš”

ë‹¨ì¼ ë…¸ë“œì—ì„œ ì—¬ëŸ¬ ì¸í„°ëŸ½íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ì´ì§€ë§Œ, ì£¼ì˜í•˜ì§€ ì•Šìœ¼ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë…¸ë“œì— ì—¬ëŸ¬ ì¸í„°ëŸ½íŠ¸ í˜¸ì¶œì´ í¬í•¨ëœ ê²½ìš° LangGraphëŠ” ë…¸ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ì‘ì—…ì— íŠ¹ì •í•œ ì¬ê°œ ê°’ ëª©ë¡ì„ ìœ ì§€í•©ë‹ˆë‹¤. ì‹¤í–‰ì´ ì¬ê°œë  ë•Œë§ˆë‹¤ ë…¸ë“œì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤. ë°œìƒí•˜ëŠ” ê° ì¸í„°ëŸ½íŠ¸ì— ëŒ€í•´ LangGraphëŠ” ì‘ì—…ì˜ ì¬ê°œ ëª©ë¡ì— ì¼ì¹˜í•˜ëŠ” ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì¼ì¹˜ëŠ” **ì—„ê²©í•˜ê²Œ ì¸ë±ìŠ¤ ê¸°ë°˜**ì´ë¯€ë¡œ ë…¸ë“œ ë‚´ ì¸í„°ëŸ½íŠ¸ í˜¸ì¶œ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.

* âœ… ë…¸ë“œ ì‹¤í–‰ ì „ë°˜ì— ê±¸ì³ `interrupt` í˜¸ì¶œì„ ì¼ê´€ë˜ê²Œ ìœ ì§€

```python
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ì¸í„°ëŸ½íŠ¸ í˜¸ì¶œì´ ë§¤ë²ˆ ê°™ì€ ìˆœì„œë¡œ ë°œìƒ
    name = interrupt("What's your name?")
    age = interrupt("What's your age?")
    city = interrupt("What's your city?")

    return {
        "name": name,
        "age": age,
        "city": city
    }
```



* ğŸ”´ ë…¸ë“œ ë‚´ì—ì„œ ì¡°ê±´ë¶€ë¡œ `interrupt` í˜¸ì¶œì„ ê±´ë„ˆë›°ì§€ ë§ˆì„¸ìš”
* ğŸ”´ ì‹¤í–‰ ì „ë°˜ì— ê±¸ì³ ê²°ì •ì ì´ì§€ ì•Šì€ ë¡œì§ì„ ì‚¬ìš©í•˜ì—¬ `interrupt` í˜¸ì¶œì„ ë£¨í”„í•˜ì§€ ë§ˆì„¸ìš”

<CodeGroup>
```python ì¸í„°ëŸ½íŠ¸ ê±´ë„ˆë›°ê¸°
def node_a(state: State):
    # âŒ ë‚˜ì¨: ì¡°ê±´ë¶€ë¡œ ì¸í„°ëŸ½íŠ¸ë¥¼ ê±´ë„ˆë›°ë©´ ìˆœì„œê°€ ë³€ê²½ë¨
    name = interrupt("What's your name?")

    # ì²« ì‹¤í–‰ì—ì„œëŠ” ì¸í„°ëŸ½íŠ¸ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŒ
    # ì¬ê°œ ì‹œì—ëŠ” ê±´ë„ˆë›°ì§€ ì•Šì„ ìˆ˜ ìˆìŒ - ì¸ë±ìŠ¤ ë¶ˆì¼ì¹˜ ë°œìƒ
    if state.get("needs_age"):
        age = interrupt("What's your age?")

    city = interrupt("What's your city?")

    return {"name": name, "city": city}
```
```python ì¸í„°ëŸ½íŠ¸ ë£¨í”„
def node_a(state: State):
    # âŒ ë‚˜ì¨: ë¹„ê²°ì •ì  ë°ì´í„° ê¸°ë°˜ ë£¨í”„
    # ì‹¤í–‰ ê°„ ì¸í„°ëŸ½íŠ¸ ìˆ˜ê°€ ë³€ê²½ë¨
    results = []
    for item in state.get("dynamic_list", []):  # ì‹¤í–‰ ê°„ ë¦¬ìŠ¤íŠ¸ê°€ ë³€ê²½ë  ìˆ˜ ìˆìŒ
        result = interrupt(f"Approve {item}?")
        results.append(result)

    return {"results": results}
```
</CodeGroup>



### `interrupt` í˜¸ì¶œì— ë³µì¡í•œ ê°’ì„ ë°˜í™˜í•˜ì§€ ë§ˆì„¸ìš”

ì‚¬ìš©í•˜ëŠ” ì²´í¬í¬ì¸í„°ì— ë”°ë¼ ë³µì¡í•œ ê°’ì€ ì§ë ¬í™”í•  ìˆ˜ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì˜ˆ: í•¨ìˆ˜ëŠ” ì§ë ¬í™”í•  ìˆ˜ ì—†ìŒ). ê·¸ë˜í”„ë¥¼ ëª¨ë“  ë°°í¬ì— ì ì‘ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ë ¤ë©´ í•©ë¦¬ì ìœ¼ë¡œ ì§ë ¬í™”í•  ìˆ˜ ìˆëŠ” ê°’ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ëª¨ë²” ì‚¬ë¡€ì…ë‹ˆë‹¤.

* âœ… `interrupt`ì— ê°„ë‹¨í•œ JSON ì§ë ¬í™” ê°€ëŠ¥ íƒ€ì… ì „ë‹¬
* âœ… ê°„ë‹¨í•œ ê°’ì„ ê°€ì§„ ë”•ì…”ë„ˆë¦¬/ê°ì²´ ì „ë‹¬

<CodeGroup>
```python ê°„ë‹¨í•œ ê°’
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ì§ë ¬í™” ê°€ëŠ¥í•œ ê°„ë‹¨í•œ íƒ€ì… ì „ë‹¬
    name = interrupt("What's your name?")
    count = interrupt(42)
    approved = interrupt(True)

    return {"name": name, "count": count, "approved": approved}
```
```python êµ¬ì¡°í™”ëœ ë°ì´í„°
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ê°„ë‹¨í•œ ê°’ì„ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ ì „ë‹¬
    response = interrupt({
        "question": "Enter user details",
        "fields": ["name", "email", "age"],
        "current_values": state.get("user", {})
    })

    return {"user": response}
```
</CodeGroup>




* ğŸ”´ í•¨ìˆ˜, í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë˜ëŠ” ê¸°íƒ€ ë³µì¡í•œ ê°ì²´ë¥¼ `interrupt`ì— ì „ë‹¬í•˜ì§€ ë§ˆì„¸ìš”

<CodeGroup>
```python í•¨ìˆ˜
def validate_input(value):
    return len(value) > 0

def node_a(state: State):
    # âŒ ë‚˜ì¨: í•¨ìˆ˜ë¥¼ ì¸í„°ëŸ½íŠ¸ì— ì „ë‹¬
    # í•¨ìˆ˜ëŠ” ì§ë ¬í™”í•  ìˆ˜ ì—†ìŒ
    response = interrupt({
        "question": "What's your name?",
        "validator": validate_input  # ì‹¤íŒ¨í•¨
    })
    return {"name": response}
```
```python í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
class DataProcessor:
    def __init__(self, config):
        self.config = config

def node_a(state: State):
    processor = DataProcessor({"mode": "strict"})

    # âŒ ë‚˜ì¨: í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¸í„°ëŸ½íŠ¸ì— ì „ë‹¬
    # ì¸ìŠ¤í„´ìŠ¤ëŠ” ì§ë ¬í™”í•  ìˆ˜ ì—†ìŒ
    response = interrupt({
        "question": "Enter data to process",
        "processor": processor  # ì‹¤íŒ¨í•¨
    })
    return {"result": response}
```
</CodeGroup>




### `interrupt` ì „ì— í˜¸ì¶œë˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ëŠ” ë©±ë“±ì„±ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤

ì¸í„°ëŸ½íŠ¸ëŠ” í˜¸ì¶œëœ ë…¸ë“œë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì—¬ ì‘ë™í•˜ë¯€ë¡œ `interrupt` ì „ì— í˜¸ì¶œë˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ëŠ” (ì´ìƒì ìœ¼ë¡œ) ë©±ë“±ì„±ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë§¥ë½ìƒ ë©±ë“±ì„±ì€ ë™ì¼í•œ ì—°ì‚°ì„ ì—¬ëŸ¬ ë²ˆ ì ìš©í•´ë„ ì´ˆê¸° ì‹¤í–‰ ì´í›„ ê²°ê³¼ê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ë…¸ë“œ ë‚´ë¶€ì— ë ˆì½”ë“œë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” API í˜¸ì¶œì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ í˜¸ì¶œì´ ì´ë£¨ì–´ì§„ í›„ `interrupt`ê°€ í˜¸ì¶œë˜ë©´ ë…¸ë“œê°€ ì¬ê°œë  ë•Œ ì—¬ëŸ¬ ë²ˆ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ ì´ˆê¸° ì—…ë°ì´íŠ¸ë¥¼ ë®ì–´ì“°ê±°ë‚˜ ì¤‘ë³µ ë ˆì½”ë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* âœ… `interrupt` ì „ì— ë©±ë“±ì„± ì—°ì‚° ì‚¬ìš©
* âœ… `interrupt` í˜¸ì¶œ í›„ì— ë¶€ìˆ˜ íš¨ê³¼ ë°°ì¹˜
* âœ… ê°€ëŠ¥í•œ ê²½ìš° ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë³„ë„ ë…¸ë“œë¡œ ë¶„ë¦¬

<CodeGroup>
```python ë©±ë“±ì„± ì—°ì‚°
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ë©±ë“±ì„±ì´ ìˆëŠ” upsert ì—°ì‚° ì‚¬ìš©
    # ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ë„ ë™ì¼í•œ ê²°ê³¼
    db.upsert_user(
        user_id=state["user_id"],
        status="pending_approval"
    )

    approved = interrupt("Approve this change?")

    return {"approved": approved}
```
```python ì¸í„°ëŸ½íŠ¸ í›„ ë¶€ìˆ˜ íš¨ê³¼
def node_a(state: State):
    # âœ… ì¢‹ìŒ: ì¸í„°ëŸ½íŠ¸ í›„ì— ë¶€ìˆ˜ íš¨ê³¼ ë°°ì¹˜
    # ìŠ¹ì¸ì„ ë°›ì€ í›„ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨
    approved = interrupt("Approve this change?")

    if approved:
        db.create_audit_log(
            user_id=state["user_id"],
            action="approved"
        )

    return {"approved": approved}
```
```python ë‹¤ë¥¸ ë…¸ë“œë¡œ ë¶„ë¦¬
def approval_node(state: State):
    # âœ… ì¢‹ìŒ: ì´ ë…¸ë“œì—ì„œëŠ” ì¸í„°ëŸ½íŠ¸ë§Œ ì²˜ë¦¬
    approved = interrupt("Approve this change?")

    return {"approved": approved}

def notification_node(state: State):
    # âœ… ì¢‹ìŒ: ë¶€ìˆ˜ íš¨ê³¼ëŠ” ë³„ë„ ë…¸ë“œì—ì„œ ë°œìƒ
    # ìŠ¹ì¸ í›„ ì‹¤í–‰ë˜ë¯€ë¡œ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨
    if (state.approved):
        send_notification(
            user_id=state["user_id"],
            status="approved"
        )

    return state
```
</CodeGroup>




* ğŸ”´ `interrupt` ì „ì— ë¹„ë©±ë“±ì„± ì—°ì‚°ì„ ìˆ˜í–‰í•˜ì§€ ë§ˆì„¸ìš”
* ğŸ”´ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì§€ ì•Šê³  ìƒˆ ë ˆì½”ë“œë¥¼ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”

<CodeGroup>
```python ë ˆì½”ë“œ ìƒì„±
def node_a(state: State):
    # âŒ ë‚˜ì¨: ì¸í„°ëŸ½íŠ¸ ì „ì— ìƒˆ ë ˆì½”ë“œ ìƒì„±
    # ì¬ê°œí•  ë•Œë§ˆë‹¤ ì¤‘ë³µ ë ˆì½”ë“œê°€ ìƒì„±ë¨
    audit_id = db.create_audit_log({
        "user_id": state["user_id"],
        "action": "pending_approval",
        "timestamp": datetime.now()
    })

    approved = interrupt("Approve this change?")

    return {"approved": approved, "audit_id": audit_id}
```
```python ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
def node_a(state: State):
    # âŒ ë‚˜ì¨: ì¸í„°ëŸ½íŠ¸ ì „ì— ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
    # ì¬ê°œí•  ë•Œë§ˆë‹¤ ì¤‘ë³µ í•­ëª©ì´ ì¶”ê°€ë¨
    db.append_to_history(state["user_id"], "approval_requested")

    approved = interrupt("Approve this change?")

    return {"approved": approved}
```
</CodeGroup>




## í•¨ìˆ˜ë¡œ í˜¸ì¶œë˜ëŠ” ì„œë¸Œê·¸ë˜í”„ì™€ í•¨ê»˜ ì‚¬ìš©

ë…¸ë“œ ë‚´ì—ì„œ ì„œë¸Œê·¸ë˜í”„ë¥¼ í˜¸ì¶œí•  ë•Œ, ë¶€ëª¨ ê·¸ë˜í”„ëŠ” ì„œë¸Œê·¸ë˜í”„ê°€ í˜¸ì¶œë˜ê³  `interrupt`ê°€ íŠ¸ë¦¬ê±°ëœ **ë…¸ë“œì˜ ì‹œì‘ ë¶€ë¶„**ì—ì„œ ì‹¤í–‰ì„ ì¬ê°œí•©ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ **ì„œë¸Œê·¸ë˜í”„**ë„ `interrupt`ê°€ í˜¸ì¶œëœ ë…¸ë“œì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ ì¬ê°œí•©ë‹ˆë‹¤.

```python
def node_in_parent_graph(state: State):
    some_code()  # <-- ì¬ê°œ ì‹œ ë‹¤ì‹œ ì‹¤í–‰ë¨
    # ì„œë¸Œê·¸ë˜í”„ë¥¼ í•¨ìˆ˜ë¡œ í˜¸ì¶œ
    # ì„œë¸Œê·¸ë˜í”„ì—ëŠ” `interrupt` í˜¸ì¶œì´ í¬í•¨ë¨
    subgraph_result = subgraph.invoke(some_input)

async function node_in_subgraph(state: State) {
    someOtherCode(); # <-- ì¬ê°œ ì‹œ ë‹¤ì‹œ ì‹¤í–‰ë¨
    result = interrupt("What's your name?")
    ...
}
```



## ì¸í„°ëŸ½íŠ¸ë¡œ ë””ë²„ê¹…

ê·¸ë˜í”„ë¥¼ ë””ë²„ê¹…í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ì •ì  ì¸í„°ëŸ½íŠ¸ë¥¼ ì¤‘ë‹¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ê·¸ë˜í”„ ì‹¤í–‰ì„ í•œ ë²ˆì— í•œ ë…¸ë“œì”© ë‹¨ê³„ë³„ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ì  ì¸í„°ëŸ½íŠ¸ëŠ” ë…¸ë“œ ì‹¤í–‰ ì „í›„ì˜ ì •ì˜ëœ ì§€ì ì—ì„œ íŠ¸ë¦¬ê±°ë©ë‹ˆë‹¤. ê·¸ë˜í”„ë¥¼ ì»´íŒŒì¼í•  ë•Œ `interrupt_before`ì™€ `interrupt_after`ë¥¼ ì§€ì •í•˜ì—¬ ì´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



<Note>
ì •ì  ì¸í„°ëŸ½íŠ¸ëŠ” íœ´ë¨¼-ì¸-ë”-ë£¨í”„ ì›Œí¬í”Œë¡œì— **ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤**. ëŒ€ì‹  `interrupt` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
</Note>

<Tabs>
    <Tab title="ì»´íŒŒì¼ ì‹œ">
        ```python highlight={2,3,15,18}
        graph = builder.compile(
            interrupt_before=["node_a"],
            interrupt_after=["node_b", "node_c"],
            checkpointer=checkpointer,
        )

        # ê·¸ë˜í”„ì— thread ID ì „ë‹¬
        config = {
            "configurable": {
                "thread_id": "some_thread"
            }
        }

        # ì¤‘ë‹¨ì ê¹Œì§€ ê·¸ë˜í”„ ì‹¤í–‰
        graph.invoke(inputs, config=config)

        # ê·¸ë˜í”„ ì¬ê°œ
        graph.invoke(None, config=config)
        ```

        1. ì¤‘ë‹¨ì ì€ `compile` ì‹œì ì— ì„¤ì •ë©ë‹ˆë‹¤.
        2. `interrupt_before`ëŠ” ë…¸ë“œ ì‹¤í–‰ ì „ì— ì¼ì‹œ ì¤‘ì§€í•´ì•¼ í•˜ëŠ” ë…¸ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
        3. `interrupt_after`ëŠ” ë…¸ë“œ ì‹¤í–‰ í›„ì— ì¼ì‹œ ì¤‘ì§€í•´ì•¼ í•˜ëŠ” ë…¸ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
        4. ì¤‘ë‹¨ì ì„ í™œì„±í™”í•˜ë ¤ë©´ ì²´í¬í¬ì¸í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤.
        5. ì²« ë²ˆì§¸ ì¤‘ë‹¨ì ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê·¸ë˜í”„ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
        6. ì…ë ¥ìœ¼ë¡œ `None`ì„ ì „ë‹¬í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ìŒ ì¤‘ë‹¨ì ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê·¸ë˜í”„ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.


    </Tab>
    <Tab title="ëŸ°íƒ€ì„ ì‹œ">
        ```python highlight={10,11,16}
        config = {
            "configurable": {
                "thread_id": "some_thread"
            }
        }

        # ì¤‘ë‹¨ì ê¹Œì§€ ê·¸ë˜í”„ ì‹¤í–‰
        graph.invoke(
            inputs,
            interrupt_before=["node_a"],
            interrupt_after=["node_b", "node_c"],
            config=config,
        )

        # ê·¸ë˜í”„ ì¬ê°œ
        graph.invoke(None, config=config)
        ```

        1. `graph.invoke`ëŠ” `interrupt_before` ë° `interrupt_after` ë§¤ê°œë³€ìˆ˜ì™€ í•¨ê»˜ í˜¸ì¶œë©ë‹ˆë‹¤. ì´ëŠ” ëŸ°íƒ€ì„ êµ¬ì„±ì´ë©° ëª¨ë“  í˜¸ì¶œë§ˆë‹¤ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        2. `interrupt_before`ëŠ” ë…¸ë“œ ì‹¤í–‰ ì „ì— ì¼ì‹œ ì¤‘ì§€í•´ì•¼ í•˜ëŠ” ë…¸ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
        3. `interrupt_after`ëŠ” ë…¸ë“œ ì‹¤í–‰ í›„ì— ì¼ì‹œ ì¤‘ì§€í•´ì•¼ í•˜ëŠ” ë…¸ë“œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
        4. ì²« ë²ˆì§¸ ì¤‘ë‹¨ì ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê·¸ë˜í”„ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
        5. ì…ë ¥ìœ¼ë¡œ `None`ì„ ì „ë‹¬í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ìŒ ì¤‘ë‹¨ì ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê·¸ë˜í”„ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.


    </Tab>
</Tabs>

### Studio ì‚¬ìš©

[Studio](/langsmith/studio)ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë˜í”„ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— UIì—ì„œ ê·¸ë˜í”„ì— ì •ì  ì¸í„°ëŸ½íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ UIë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ì˜ ëª¨ë“  ì§€ì ì—ì„œ ê·¸ë˜í”„ ìƒíƒœë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![image](/oss/images/static-interrupt.png)

---

<Callout icon="pen-to-square" iconType="regular">
  [Edit the source of this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/oss/langgraph/interrupts.mdx)
</Callout>
