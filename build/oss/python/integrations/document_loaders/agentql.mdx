---
title: AgentQLLoader
---

[AgentQL](https://www.agentql.com/)의 문서 로더는 [AgentQL 쿼리](https://docs.agentql.com/agentql-query)를 사용하여 모든 웹 페이지에서 구조화된 데이터 추출을 제공합니다. AgentQL은 시간이 지나고 변경되어도 여러 언어 및 웹 페이지에서 중단 없이 사용할 수 있습니다.

## 개요

`AgentQLLoader`는 다음 두 가지 매개변수가 필요합니다:

- `url`: 데이터를 추출하려는 웹 페이지의 URL입니다.
- `query`: 실행할 AgentQL 쿼리입니다. [문서에서 AgentQL 쿼리를 작성하는 방법](https://docs.agentql.com/agentql-query)을 자세히 알아보거나 [AgentQL Playground](https://dev.agentql.com/playground)에서 테스트해보세요.

다음 매개변수 설정은 선택 사항입니다:

- `api_key`: [dev.agentql.com](https://dev.agentql.com)에서 발급받은 AgentQL API 키입니다. **`선택 사항`.**
- `timeout`: 요청이 시간 초과되기 전에 대기할 시간(초)입니다. **기본값은 `900`입니다.**
- `is_stealth_mode_enabled`: 실험적인 안티봇 회피 전략을 활성화할지 여부입니다. 이 기능은 모든 웹사이트에서 항상 작동하지 않을 수 있습니다. 이 모드가 활성화되면 데이터 추출에 더 오래 걸릴 수 있습니다. **기본값은 `False`입니다.**
- `wait_for`: 데이터를 추출하기 전에 페이지가 로드될 때까지 대기할 시간(초)입니다. **기본값은 `0`입니다.**
- `is_scroll_to_bottom_enabled`: 데이터를 추출하기 전에 페이지 하단까지 스크롤할지 여부입니다. **기본값은 `False`입니다.**
- `mode`: `"standard"`는 심층 데이터 분석을 사용하고, `"fast"`는 속도를 위해 분석 깊이를 일부 절충하며 대부분의 사용 사례에 적합합니다. [이 가이드에서 모드에 대해 자세히 알아보세요.](https://docs.agentql.com/accuracy/standard-mode) **기본값은 `"fast"`입니다.**
- `is_screenshot_enabled`: 데이터를 추출하기 전에 스크린샷을 촬영할지 여부입니다. Base64 문자열로 'metadata'에 반환됩니다. **기본값은 `False`입니다.**

AgentQLLoader는 AgentQL의 [REST API](https://docs.agentql.com/rest-api/api-reference)로 구현되었습니다.

### 통합 세부 정보

| Class | Package | Local | Serializable | JS support |
| :--- | :--- | :---: | :---: |  :---: |
| AgentQLLoader| langchain-agentql | ✅ | ❌ | ❌ |

### 로더 기능

| Source | Document Lazy Loading | Native Async Support
| :---: | :---: | :---: |
| AgentQLLoader | ✅ | ❌ |

## 설정

AgentQL Document Loader를 사용하려면 `AGENTQL_API_KEY` 환경 변수를 구성하거나 `api_key` 매개변수를 사용해야 합니다. [Dev Portal](https://dev.agentql.com)에서 API 키를 얻을 수 있습니다.

### 설치

**langchain-agentql**을 설치합니다.

```python
%pip install -qU langchain-agentql
```

### 자격 증명 설정

```python
import os

os.environ["AGENTQL_API_KEY"] = "YOUR_AGENTQL_API_KEY"
```

## 초기화

다음으로 모델 객체를 인스턴스화합니다:

```python
from langchain_agentql.document_loaders import AgentQLLoader

loader = AgentQLLoader(
    url="https://www.agentql.com/blog",
    query="""
    {
        posts[] {
            title
            url
            date
            author
        }
    }
    """,
    is_scroll_to_bottom_enabled=True,
)
```

## 로드

```python
docs = loader.load()
docs[0]
```

```output
Document(metadata={'request_id': 'bdb9dbe7-8a7f-427f-bc16-839ccc02cae6', 'generated_query': None, 'screenshot': None}, page_content="{'posts': [{'title': 'Launch Week Recap—make the web AI-ready', 'url': 'https://www.agentql.com/blog/2024-launch-week-recap', 'date': 'Nov 18, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Accurate data extraction from PDFs and images with AgentQL', 'url': 'https://www.agentql.com/blog/accurate-data-extraction-pdfs-images', 'date': 'Feb 1, 2025', 'author': 'Rachel-Lee Nabors'}, {'title': 'Introducing Scheduled Scraping Workflows', 'url': 'https://www.agentql.com/blog/scheduling', 'date': 'Dec 2, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Updates to Our Pricing Model', 'url': 'https://www.agentql.com/blog/2024-pricing-update', 'date': 'Nov 19, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Get data from any page: AgentQL's REST API Endpoint—Launch week day 5', 'url': 'https://www.agentql.com/blog/data-rest-api', 'date': 'Nov 15, 2024', 'author': 'Rachel-Lee Nabors'}]}")
```

```python
print(docs[0].metadata)
```

```output
{'request_id': 'bdb9dbe7-8a7f-427f-bc16-839ccc02cae6', 'generated_query': None, 'screenshot': None}
```

## 지연 로드

`AgentQLLoader`는 현재 한 번에 하나의 [`Document`](https://reference.langchain.com/python/langchain_core/documents/#langchain_core.documents.base.Document)만 로드합니다. 따라서 `load()`와 `lazy_load()`는 동일하게 동작합니다:

```python
pages = [doc for doc in loader.lazy_load()]
pages
```

```output
[Document(metadata={'request_id': '06273abd-b2ef-4e15-b0ec-901cba7b4825', 'generated_query': None, 'screenshot': None}, page_content="{'posts': [{'title': 'Launch Week Recap—make the web AI-ready', 'url': 'https://www.agentql.com/blog/2024-launch-week-recap', 'date': 'Nov 18, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Accurate data extraction from PDFs and images with AgentQL', 'url': 'https://www.agentql.com/blog/accurate-data-extraction-pdfs-images', 'date': 'Feb 1, 2025', 'author': 'Rachel-Lee Nabors'}, {'title': 'Introducing Scheduled Scraping Workflows', 'url': 'https://www.agentql.com/blog/scheduling', 'date': 'Dec 2, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Updates to Our Pricing Model', 'url': 'https://www.agentql.com/blog/2024-pricing-update', 'date': 'Nov 19, 2024', 'author': 'Rachel-Lee Nabors'}, {'title': 'Get data from any page: AgentQL's REST API Endpoint—Launch week day 5', 'url': 'https://www.agentql.com/blog/data-rest-api', 'date': 'Nov 15, 2024', 'author': 'Rachel-Lee Nabors'}]}")]
```

## API 참조

이 통합을 사용하는 방법에 대한 자세한 내용은 [git repo](https://github.com/tinyfish-io/agentql-integrations/tree/main/langchain) 또는 [langchain 통합 문서](https://docs.agentql.com/integrations/langchain)를 참조하세요.

---

<Callout icon="pen-to-square" iconType="regular">
  [Edit the source of this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/oss/python/integrations/document_loaders/agentql.mdx)
</Callout>
