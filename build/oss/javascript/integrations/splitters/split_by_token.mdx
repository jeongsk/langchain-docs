---
title: 토큰 단위로 분할하기
---

언어 모델에는 토큰 제한이 있습니다. 토큰 제한을 초과해서는 안 됩니다. [텍스트를 청크로 분할](/oss/javascript/integrations/splitters/)할 때는 토큰 수를 계산하는 것이 좋습니다. 토크나이저는 여러 종류가 있습니다. 텍스트의 토큰을 계산할 때는 언어 모델에서 사용하는 것과 동일한 토크나이저를 사용해야 합니다.



## js-tiktoken

<Note>
**[js-tiktoken](https://github.com/dqbd/tiktoken)은 `OpenAI`가 만든 `BPE` 토크나이저의 JavaScript 버전입니다.**
</Note>

@[TokenTextSplitter]를 사용하여 `tiktoken`으로 사용된 토큰을 추정할 수 있습니다. OpenAI 모델에서는 더 정확할 것입니다.

1. 텍스트 분할 방식: 전달된 문자 기준.
2. 청크 크기 측정 방식: `tiktoken` 토크나이저 기준.

<CodeGroup>
```bash npm
npm install @langchain/textsplitters
```

```bash pnpm
pnpm install @langchain/textsplitters
```

```bash yarn
yarn add @langchain/textsplitters
```

```bash bun
bun add @langchain/textsplitters
```
</CodeGroup>

```ts
import { TokenTextSplitter } from "@langchain/textsplitters";
import { readFileSync } from "fs";

// 예시: 긴 문서 읽기
const stateOfTheUnion = readFileSync("state_of_the_union.txt", "utf8");
```

@[TokenTextSplitter]로 분할한 다음 `tiktoken`으로 청크를 병합하려면 @[TokenTextSplitter]를 초기화할 때 `encodingName`(예: cl100k_base)을 전달하세요. 이 메서드에서 나온 분할은 `tiktoken` 토크나이저로 측정한 청크 크기보다 클 수 있습니다.

```ts
import { TokenTextSplitter } from "@langchain/textsplitters";

// 예시: cl100k_base 인코딩 사용
const splitter = new TokenTextSplitter({ encodingName: "cl100k_base", chunkSize: 10, chunkOverlap: 0 });

const texts = splitter.splitText(stateOfTheUnion);
console.log(texts[0]);
```
```output
Madam Speaker, Madam Vice President, our First Lady and Second Gentleman. Members of Congress and the Cabinet. Justices of the Supreme Court. My fellow Americans.

Last year COVID-19 kept us apart. This year we are finally together again.

Tonight, we meet as Democrats Republicans and Independents. But most importantly as Americans.

With a duty to one another to the American people to the Constitution.
```

---

<Callout icon="pen-to-square" iconType="regular">
  [Edit the source of this page on GitHub](https://github.com/langchain-ai/docs/edit/main/src/oss/integrations/splitters/split_by_token.mdx)
</Callout>
